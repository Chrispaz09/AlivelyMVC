@model AlivelyMVC.ViewModels.UserViewModel

<partial name="_DeleteUserPartial" model="@Model" id="deleteusermodal" />

<div class="container">
    <div class="row gutters-sm">
        <div class="col-md-4 d-none d-md-block">
            <div class="card">
                <div class="card-body">
                    <nav class="nav flex-column nav-pills nav-gap-y-1">
                        <a href="#profile" data-bs-toggle="tab" class="nav-item nav-link has-icon nav-link-faded active">
                            <i class="bi bi-person"></i> Profile Info
                        </a>
                        <a href="#account" data-bs-toggle="tab" class="nav-item nav-link has-icon nav-link-faded">
                            <i class="bi bi-gear"></i> Account Settings
                        </a>
                        <a href="#security" data-bs-toggle="tab" class="nav-item nav-link has-icon nav-link-faded" data-target="">
                            <i class="bi bi-shield"></i> Security
                        </a>
                    </nav>
                </div>
            </div>
        </div>
        <div class="col-md-8">
            <div class="card-body tab-content">
                <div class="tab-pane fade active show" id="profile">
                    <h6>PROFILE INFORMATION</h6>
                    <hr>
                    <form asp-action="UpdateProfile" asp-controller="User" method="post" role="form">
                        <div class="form-group">
                            <label for="fullName">Full Name</label>
                            <input type="text" class="form-control" id="fullName" aria-describedby="fullNameHelp" placeholder="Enter your fullname" value="@Model.FullName" disabled>
                        </div>
                        <div class="form-group">
                            <label for="specific-goal" class="form-label mt-4">First Name:</label>
                            <input asp-for="FirstName" type="text" class="form-control" id="specific-goal" placeholder="Enter your first name...">
                        </div>
                        <div class="form-group">
                            <label for="specific-goal" class="form-label mt-4">Last Name:</label>
                            <input asp-for="LastName" type="text" class="form-control" id="specific-goal" placeholder="Enter your last name...">
                        </div>
                        <div class="form-group">
                            <label for="age" class="form-label mt-4">Age: </label>
                            <input asp-for="Age" class="form-control" id="age" />
                            <span asp-validation-for="Age" class="text-danger"></span>
                        </div>
                        <br />
                        <button type="submit" class="btn btn-primary">Update Profile</button>
                        <button type="reset" class="btn btn-light">Reset Changes</button>
                    </form>
                </div>
                <div class="tab-pane fade" id="account">
                    <h6>ACCOUNT SETTINGS</h6>
                    <hr>
                    <form asp-action="UpdateUsernameAndEmail" asp-controller="User" method="post" role="form">
                        <div class="form-group">
                            <label for="username">
                                Current Username:
                                <br />
                                @Model.UserName
                            </label>
                            <br />
                            <br />
                            <label for="username">New Username: </label>
                            <input type="text" class="form-control" id="username" aria-describedby="usernameHelp" placeholder="Enter your username" asp-for="UserName">
                            <br />
                            <button class="btn btn-primary" type="submit">Change Username</button>
                            <br />
                            <br />
                            <label for="username">Email Address: </label>
                            <input type="text" class="form-control" id="username" aria-describedby="usernameHelp" placeholder="Enter Email Address" asp-for="Email">
                            <br />
                            <button class="btn btn-primary" type="submit">Update Email</button>
                        </div>
                    </form>
                    <hr>
                    <div class="form-group">
                        <label class="d-block text-danger">Delete Account</label>
                        <p class="text-muted font-size-sm">Once you delete your account, it cannot be recovered. </p>
                    </div>
                    <a class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteusermodal">Delete Account</a>
                </div>
                <div class="tab-pane fade" id="security">
                    <h6>SECURITY SETTINGS</h6>
                    <hr>
                    <form asp-action="ChangePassword" asp-controller="User" asp-route-password="@Model.ConfirmPassword" method="get">
                        <div class="form-group">
                            <label class="d-block">Change Password</label>
                            <input type="password" class="form-control mt-1" placeholder="New password" asp-for="Password">
                            <span asp-validation-for="Password" class="text-danger"></span>
                            <input type="password" class="form-control mt-1" placeholder="Confirm new password" asp-for="ConfirmPassword">
                            <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                            <br />
                            <button class="btn btn-danger" type="submit">Change Password</button>
                        </div>
                    </form>
                        
                     <hr>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts
    {
    @{
    <partial name="_ValidationScriptsPartial" />
    }
    }


<style>

    .main-body {
        padding: 15px;
    }

    .nav-link {
        color: #4a5568;
    }

    .card {
        box-shadow: 0 1px 3px 0 rgba(0,0,0,.1), 0 1px 2px 0 rgba(0,0,0,.06);
    }

    .card {
        position: relative;
        display: flex;
        flex-direction: column;
        min-width: 0;
        word-wrap: break-word;
        background-color: #fff;
        background-clip: border-box;
        border: 0 solid rgba(0,0,0,.125);
        border-radius: .25rem;
        margin-top: 15px;
    }

    .card-body {
        flex: 1 1 auto;
        min-height: 1px;
        padding: 1rem;
    }

    .gutters-sm {
        margin-right: -8px;
        margin-left: -8px;
    }

        .gutters-sm > .col, .gutters-sm > [class*=col-] {
            padding-right: 8px;
            padding-left: 8px;
        }

    .mb-3, .my-3 {
        margin-bottom: 1rem !important;
    }

    .bg-gray-300 {
        background-color: #e2e8f0;
    }

    .h-100 {
        height: 100% !important;
    }

    .shadow-none {
        box-shadow: none !important;
    }
</style>
